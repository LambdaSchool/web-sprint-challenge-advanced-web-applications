{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactMotion = require('react-motion');\n\nvar _itsSet = require('its-set');\n\nvar _itsSet2 = _interopRequireDefault(_itsSet);\n\nvar _lodash = require('lodash.get');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _util = require('@potion/util');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Layout = function (_Component) {\n  _inherits(Layout, _Component);\n\n  function Layout() {\n    _classCallCheck(this, Layout);\n\n    var _this = _possibleConstructorReturn(this, (Layout.__proto__ || Object.getPrototypeOf(Layout)).call(this));\n\n    _this.defaultComponent = 'g';\n    _this.schema = _this.getSchema();\n    _this.getEnterStyle = _this.getEnterStyle.bind(_this);\n    _this.getExitStyle = _this.getExitStyle.bind(_this);\n    return _this;\n  }\n\n  _createClass(Layout, [{\n    key: 'getEnterStyle',\n    value: function getEnterStyle(_ref) {\n      var style = _ref.style;\n\n      var result = _extends({}, style, this.props.interpolate(style), this.props.nodeEnter(style));\n\n      return Object.keys(result).reduce(function (acc, key) {\n        return _extends({}, acc, _defineProperty({}, key, (0, _util.isObject)(result[key]) ? result[key].val : result[key]));\n      }, {});\n    }\n  }, {\n    key: 'getExitStyle',\n    value: function getExitStyle(_ref2) {\n      var style = _ref2.style;\n\n      var result = _extends({}, style, this.props.interpolate(style), this.props.nodeExit(style));\n\n      return Object.keys(result).reduce(function (acc, key) {\n        return _extends({}, acc, _defineProperty({}, key, (0, _util.isObject)(result[key]) ? result[key].val : result[key]));\n      }, {});\n    }\n  }, {\n    key: 'getLayout',\n    value: function getLayout() {\n      var _this2 = this;\n\n      var _schema = this.schema,\n          layout = _schema.layout,\n          layoutProps = _schema.layoutProps;\n      var p = layout();\n      layoutProps.forEach(function (key) {\n        if ((0, _itsSet2.default)(_this2.props[key])) p = p[key](_this2.props[key]);\n      });\n      return p;\n    }\n  }, {\n    key: 'getAnimatedData',\n    value: function getAnimatedData() {\n      var _this3 = this;\n\n      return this.getData().map(function (d) {\n        return {\n          key: d.key || d.data.key,\n          data: d,\n          style: _extends({}, _this3.props.interpolate(d), _this3.schema.selectStylesToTween(d))\n        };\n      });\n    }\n  }, {\n    key: 'getStaticData',\n    value: function getStaticData() {\n      return this.getData();\n    }\n  }, {\n    key: 'transformDefaultStyles',\n    value: function transformDefaultStyles(data) {\n      var _this4 = this;\n\n      return data.map(function (d) {\n        return _extends({}, d, {\n          style: _this4.props.nodeEnter(d.style)\n        });\n      });\n    }\n  }, {\n    key: 'transformStyles',\n    value: function transformStyles(data) {\n      var _this5 = this;\n\n      return data.map(function (d) {\n        return _extends({}, d, {\n          style: Object.keys(d.style).reduce(function (acc, key) {\n            return _extends({}, acc, _defineProperty({}, key, (0, _reactMotion.spring)(d.style[key], {\n              stiffness: _this5.props.springStiffness,\n              damping: _this5.props.springDamping\n            })));\n          }, {})\n        });\n      });\n    }\n  }, {\n    key: 'transformInterpolatedStyles',\n    value: function transformInterpolatedStyles(data) {\n      return data.map(function (d) {\n        var data = d.data,\n            style = d.style,\n            key = d.key;\n        return _extends({\n          key: key\n        }, Object.getOwnPropertyNames(data).reduce(function (acc, key) {\n          return _extends({}, acc, _defineProperty({}, key, data[key]));\n        }, {}), style);\n      });\n    }\n  }, {\n    key: 'renderAnimated',\n    value: function renderAnimated() {\n      var _this6 = this;\n\n      var data = this.getAnimatedData();\n      return _react2.default.createElement(_reactMotion.TransitionMotion, {\n        defaultStyles: this.transformDefaultStyles(data),\n        styles: this.transformStyles(data),\n        willEnter: this.getEnterStyle,\n        willLeave: this.getExitStyle\n      }, function (interpolatedStyles) {\n        return _this6.renderChildren(_this6.transformInterpolatedStyles(interpolatedStyles));\n      });\n    }\n  }, {\n    key: 'renderStatic',\n    value: function renderStatic() {\n      return this.renderChildren(this.getStaticData());\n    }\n  }, {\n    key: 'renderChildren',\n    value: function renderChildren(data) {\n      var defaultComponent = this.defaultComponent;\n      var the = {\n        component: this.props.component || (0, _lodash2.default)(this, 'context.components.' + defaultComponent) || defaultComponent\n      };\n      return _react2.default.createElement(the.component, null, this.props.children(data));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.animate ? this.renderAnimated() : this.renderStatic();\n    }\n  }]);\n\n  return Layout;\n}(_react.Component);\n\nLayout.displayName = 'Layout';\nLayout.propTypes = {\n  children: _propTypes2.default.func.isRequired,\n  nodeEnter: _propTypes2.default.func,\n  nodeExit: _propTypes2.default.func,\n  animate: _propTypes2.default.bool,\n  component: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.string]),\n  springStiffness: _propTypes2.default.number,\n  springDamping: _propTypes2.default.number,\n  interpolate: _propTypes2.default.func\n};\nLayout.defaultProps = {\n  animate: false,\n  nodeEnter: function nodeEnter(d) {\n    return d;\n  },\n  nodeExit: function nodeExit(d) {\n    return d;\n  },\n  springStiffness: 170,\n  springDamping: 26,\n  interpolate: function interpolate() {\n    return {};\n  }\n};\nLayout.contextTypes = {\n  components: _util.types.components\n};\nexports.default = Layout;","map":{"version":3,"sources":["C:/Users/Admin2/OneDrive/Lambda School/Web_3.3/Sprint/web-sprint-challenge-advanced-web-applications/client/node_modules/@potion/layout/lib/Layout.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_reactMotion","_itsSet","_itsSet2","_lodash","_lodash2","_util","obj","__esModule","default","_defineProperty","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","Layout","_Component","_this","getPrototypeOf","defaultComponent","schema","getSchema","getEnterStyle","bind","getExitStyle","_ref","style","result","interpolate","nodeEnter","keys","reduce","acc","isObject","val","_ref2","nodeExit","getLayout","_this2","_schema","layout","layoutProps","p","forEach","getAnimatedData","_this3","getData","map","d","data","selectStylesToTween","getStaticData","transformDefaultStyles","_this4","transformStyles","_this5","spring","stiffness","springStiffness","damping","springDamping","transformInterpolatedStyles","getOwnPropertyNames","renderAnimated","_this6","createElement","TransitionMotion","defaultStyles","styles","willEnter","willLeave","interpolatedStyles","renderChildren","renderStatic","the","component","children","render","animate","Component","displayName","propTypes","func","isRequired","bool","oneOfType","element","string","number","defaultProps","contextTypes","components","types"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactMotion = require('react-motion');\n\nvar _itsSet = require('its-set');\n\nvar _itsSet2 = _interopRequireDefault(_itsSet);\n\nvar _lodash = require('lodash.get');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _util = require('@potion/util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Layout = function (_Component) {\n  _inherits(Layout, _Component);\n\n  function Layout() {\n    _classCallCheck(this, Layout);\n\n    var _this = _possibleConstructorReturn(this, (Layout.__proto__ || Object.getPrototypeOf(Layout)).call(this));\n\n    _this.defaultComponent = 'g';\n\n    _this.schema = _this.getSchema();\n    _this.getEnterStyle = _this.getEnterStyle.bind(_this);\n    _this.getExitStyle = _this.getExitStyle.bind(_this);\n    return _this;\n  }\n\n  _createClass(Layout, [{\n    key: 'getEnterStyle',\n    value: function getEnterStyle(_ref) {\n      var style = _ref.style;\n\n      var result = _extends({}, style, this.props.interpolate(style), this.props.nodeEnter(style));\n      return Object.keys(result).reduce(function (acc, key) {\n        return _extends({}, acc, _defineProperty({}, key, (0, _util.isObject)(result[key]) ? result[key].val : result[key]));\n      }, {});\n    }\n  }, {\n    key: 'getExitStyle',\n    value: function getExitStyle(_ref2) {\n      var style = _ref2.style;\n\n      var result = _extends({}, style, this.props.interpolate(style), this.props.nodeExit(style));\n\n      return Object.keys(result).reduce(function (acc, key) {\n        return _extends({}, acc, _defineProperty({}, key, (0, _util.isObject)(result[key]) ? result[key].val : result[key]));\n      }, {});\n    }\n  }, {\n    key: 'getLayout',\n    value: function getLayout() {\n      var _this2 = this;\n\n      var _schema = this.schema,\n          layout = _schema.layout,\n          layoutProps = _schema.layoutProps;\n\n      var p = layout();\n      layoutProps.forEach(function (key) {\n        if ((0, _itsSet2.default)(_this2.props[key])) p = p[key](_this2.props[key]);\n      });\n      return p;\n    }\n  }, {\n    key: 'getAnimatedData',\n    value: function getAnimatedData() {\n      var _this3 = this;\n\n      return this.getData().map(function (d) {\n        return {\n          key: d.key || d.data.key,\n          data: d,\n          style: _extends({}, _this3.props.interpolate(d), _this3.schema.selectStylesToTween(d))\n        };\n      });\n    }\n  }, {\n    key: 'getStaticData',\n    value: function getStaticData() {\n      return this.getData();\n    }\n  }, {\n    key: 'transformDefaultStyles',\n    value: function transformDefaultStyles(data) {\n      var _this4 = this;\n\n      return data.map(function (d) {\n        return _extends({}, d, { style: _this4.props.nodeEnter(d.style) });\n      });\n    }\n  }, {\n    key: 'transformStyles',\n    value: function transformStyles(data) {\n      var _this5 = this;\n\n      return data.map(function (d) {\n        return _extends({}, d, {\n          style: Object.keys(d.style).reduce(function (acc, key) {\n            return _extends({}, acc, _defineProperty({}, key, (0, _reactMotion.spring)(d.style[key], {\n              stiffness: _this5.props.springStiffness,\n              damping: _this5.props.springDamping\n            })));\n          }, {})\n        });\n      });\n    }\n  }, {\n    key: 'transformInterpolatedStyles',\n    value: function transformInterpolatedStyles(data) {\n      return data.map(function (d) {\n        var data = d.data,\n            style = d.style,\n            key = d.key;\n\n        return _extends({\n          key: key\n        }, Object.getOwnPropertyNames(data).reduce(function (acc, key) {\n          return _extends({}, acc, _defineProperty({}, key, data[key]));\n        }, {}), style);\n      });\n    }\n  }, {\n    key: 'renderAnimated',\n    value: function renderAnimated() {\n      var _this6 = this;\n\n      var data = this.getAnimatedData();\n      return _react2.default.createElement(\n        _reactMotion.TransitionMotion,\n        {\n          defaultStyles: this.transformDefaultStyles(data),\n          styles: this.transformStyles(data),\n          willEnter: this.getEnterStyle,\n          willLeave: this.getExitStyle\n        },\n        function (interpolatedStyles) {\n          return _this6.renderChildren(_this6.transformInterpolatedStyles(interpolatedStyles));\n        }\n      );\n    }\n  }, {\n    key: 'renderStatic',\n    value: function renderStatic() {\n      return this.renderChildren(this.getStaticData());\n    }\n  }, {\n    key: 'renderChildren',\n    value: function renderChildren(data) {\n      var defaultComponent = this.defaultComponent;\n\n      var the = {\n        component: this.props.component || (0, _lodash2.default)(this, 'context.components.' + defaultComponent) || defaultComponent\n      };\n      return _react2.default.createElement(\n        the.component,\n        null,\n        this.props.children(data)\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.animate ? this.renderAnimated() : this.renderStatic();\n    }\n  }]);\n\n  return Layout;\n}(_react.Component);\n\nLayout.displayName = 'Layout';\nLayout.propTypes = {\n  children: _propTypes2.default.func.isRequired,\n  nodeEnter: _propTypes2.default.func,\n  nodeExit: _propTypes2.default.func,\n  animate: _propTypes2.default.bool,\n  component: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.string]),\n  springStiffness: _propTypes2.default.number,\n  springDamping: _propTypes2.default.number,\n  interpolate: _propTypes2.default.func\n};\nLayout.defaultProps = {\n  animate: false,\n  nodeEnter: function nodeEnter(d) {\n    return d;\n  },\n  nodeExit: function nodeExit(d) {\n    return d;\n  },\n  springStiffness: 170,\n  springDamping: 26,\n  interpolate: function interpolate() {\n    return {};\n  }\n};\nLayout.contextTypes = {\n  components: _util.types.components\n};\nexports.default = Layout;"]},"metadata":{},"sourceType":"script"}